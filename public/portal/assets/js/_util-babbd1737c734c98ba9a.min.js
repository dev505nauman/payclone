!function(){"use strict";window.siteAnalytics=window.siteAnalytics||{},window.siteAnalyticsUtil=window.siteAnalyticsUtil||{};var i,n=!1,t="SITE_ANALYTICS_DEBUG",e=[],a=250,o=a,s=1.3;function l(){var i=[].slice.call(arguments);y()&&console.log.apply(console,i)}function c(){return window.readConfig("site-analytics-config")||{}}function w(){return c().generalAnalyticsConfig||{}}function u(){return c().siteSpecificAnalyticsConfig||{}}function d(){return u().gtmConfig||{}}function y(){return!!window[t]}function f(i,n){U("action",i,n)}function r(i,n){U("actionOnce",i,n)}function A(i,n){U("modal",i,n)}function g(i,n){U("viewed",i,n)}function U(i,n,t){window.Analytics?m(i,n,t):function(i,n,t){e.push([i,n,t]),p(),l("enqueue",i,n,t)}(i,n,t)}function m(i,n,t){h();var e=function(i){var n=w();return Object.keys(i||{}).forEach(function(t){n[t]=i[t]}),n}(t);window.Analytics[i](n,e),l("emit",i,n,e)}function C(){var i,n,t=d();i=t,n={},Object.keys(i).forEach(function(t){var e=i[t];n[t]=e||void 0}),t=n,window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)}function h(){n||(window.Analytics.configure(w()),n=!0,l("Sent config data"))}function p(){i||(i=setTimeout(v,o),o*=s)}function v(){i=null,window.Analytics?(l("Flushing event queue"),h(),e.forEach(function(i){m.apply(this,i)}),o=a):(p(),l("Ready timer waiting "+o+"ms"))}function q(i){if(!window.ga)return window.siteAnalyticsUtil.enqueuedCalls=window.siteAnalyticsUtil.enqueuedCalls||[],void window.siteAnalyticsUtil.enqueuedCalls.push({fnName:"sendToGoogleAnalytics",args:[i]});window.ga.apply(this,i),l("ga",i)}function T(i){window.dataLayer.push(i),l("dataLayer",i)}function E(){window.ga&&window.siteAnalyticsUtil.generalAnalyticsConfig?window.siteAnalyticsUtil.enqueuedCalls&&(window.siteAnalyticsUtil.enqueuedCalls.forEach(function(i){var n=window.siteAnalyticsUtil[i.fnName];n?n.apply(window.siteAnalyticsUtil,i.args):setTimeout(function(){throw Error("siteAnalyticsUtil has no fn "+i.fnName)})}),window.siteAnalyticsUtil.enqueuedCalls=[]):setTimeout(E,100)}window.siteAnalyticsUtil.analyticsConfigData||(C(),p(),window.siteAnalyticsUtil.debugActive=y,window.siteAnalyticsUtil.emitAction=f,window.siteAnalyticsUtil.emitActionOnce=r,window.siteAnalyticsUtil.emitModal=A,window.siteAnalyticsUtil.emitViewed=g,window.siteAnalyticsUtil.siteAnalyticsConfig=u,window.siteAnalyticsUtil.siteGtmConfigData=d,window.siteAnalyticsUtil.sendToGoogleAnalytics=q,window.siteAnalyticsUtil.sendToDataLayer=T,window.siteAnalyticsUtil.generalAnalyticsConfig=w,E())}();